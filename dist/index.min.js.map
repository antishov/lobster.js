{
  "version": 3,
  "sources": ["index.js"],
  "sourcesContent": ["class SelectChangeEvent extends CustomEvent {\n    constructor(detail) {\n        super(\"change\", {\n            detail,\n            bubbles: true,\n            cancelable: true,\n        });\n    }\n}\nexport class Select {\n    constructor(selector, options = [], config = {}) {\n        this.options = [];\n        this.isOpen = false;\n        this.options = options;\n        this.config = Object.assign({ placeholder: \"Select option\", searchable: false, clearable: false }, config);\n        this.initContainer(selector);\n        this.init();\n    }\n    init() {\n        this.initSelectButton();\n        this.initDropdown();\n        this.initSearchInput();\n        this.renderOptions();\n        this.outsideClickHandler = this.handleOutsideClick.bind(this);\n        document.addEventListener(\"click\", this.outsideClickHandler);\n    }\n    initContainer(selector) {\n        const container = document.querySelector(selector);\n        if (container === null) {\n            throw new Error(`Element with selector \"${selector}\" not found`);\n        }\n        this.container = container;\n        this.node = document.createElement(\"div\");\n        this.node.classList.add(\"lobster-select\");\n        this.container.appendChild(this.node);\n    }\n    initDropdown() {\n        this.dropdown = document.createElement(\"div\");\n        this.dropdown.classList.add(\"lobster-select__dropdown\");\n        this.node.appendChild(this.dropdown);\n    }\n    initSelectButton() {\n        this.selectButton = document.createElement(\"div\");\n        this.selectButton.classList.add(\"lobster-select__button\");\n        const buttonText = document.createElement(\"span\");\n        buttonText.classList.add(\"lobster-select__button-text\");\n        buttonText.textContent = this.config.placeholder;\n        const buttonArrow = document.createElement(\"span\");\n        buttonArrow.classList.add(\"lobster-select__button-arrow\");\n        if (this.config.clearable) {\n            const clearButton = document.createElement(\"span\");\n            clearButton.classList.add(\"lobster-select__clear-button\");\n            clearButton.addEventListener(\"click\", (e) => {\n                e.stopPropagation();\n                this.clear();\n                const event = new SelectChangeEvent({\n                    value: \"\",\n                    label: \"\",\n                });\n                this.node.dispatchEvent(event);\n            });\n            this.selectButton.appendChild(clearButton);\n            this.node.classList.add(\"lobster-select--clearable\");\n        }\n        this.selectButton.appendChild(buttonText);\n        this.selectButton.appendChild(buttonArrow);\n        this.node.appendChild(this.selectButton);\n        this.selectButton.addEventListener(\"click\", () => this.toggle());\n    }\n    initSearchInput() {\n        if (!this.config.searchable) {\n            return;\n        }\n        const searchWrapper = document.createElement(\"div\");\n        searchWrapper.classList.add(\"lobster-select__search\");\n        this.searchInput = document.createElement(\"input\");\n        this.searchInput.type = \"text\";\n        this.searchInput.placeholder = \"Search...\";\n        this.searchInput.classList.add(\"lobster-select__search-input\");\n        searchWrapper.appendChild(this.searchInput);\n        this.dropdown.appendChild(searchWrapper);\n        this.searchInput.addEventListener(\"input\", () => this.handleSearch());\n    }\n    renderOptions() {\n        const optionsList = document.createElement(\"div\");\n        optionsList.classList.add(\"lobster-select__options\");\n        this.options.forEach((option) => {\n            const optionElement = document.createElement(\"div\");\n            optionElement.classList.add(\"lobster-select__option\");\n            if (option.disabled) {\n                optionElement.classList.add(\"lobster-select__option--disabled\");\n            }\n            optionElement.textContent = option.label;\n            if (!option.disabled) {\n                optionElement.addEventListener(\"click\", () => this.selectOption(option));\n            }\n            optionsList.appendChild(optionElement);\n        });\n        const existingOptions = this.dropdown.querySelector(\".lobster-select__options\");\n        if (existingOptions) {\n            this.dropdown.removeChild(existingOptions);\n        }\n        this.dropdown.appendChild(optionsList);\n    }\n    handleSearch() {\n        if (!this.searchInput)\n            return;\n        const searchTerm = this.searchInput.value.toLowerCase();\n        const filteredOptions = this.options.filter((option) => option.label.toLowerCase().includes(searchTerm));\n        const optionsList = this.dropdown.querySelector(\".lobster-select__options\");\n        if (optionsList) {\n            optionsList.innerHTML = \"\";\n            filteredOptions.forEach((option) => {\n                const optionElement = document.createElement(\"div\");\n                optionElement.classList.add(\"lobster-select__option\");\n                if (option.disabled) {\n                    optionElement.classList.add(\"lobster-select__option--disabled\");\n                }\n                optionElement.textContent = option.label;\n                if (!option.disabled) {\n                    optionElement.addEventListener(\"click\", () => this.selectOption(option));\n                }\n                optionsList.appendChild(optionElement);\n            });\n        }\n    }\n    selectOption(option) {\n        this.selectedOption = option;\n        const buttonText = this.selectButton.querySelector(\".lobster-select__button-text\");\n        if (buttonText) {\n            buttonText.textContent = option.label;\n        }\n        this.node.classList.add(\"has-value\");\n        this.dropdown\n            .querySelectorAll(\".lobster-select__option\")\n            .forEach((optionEl, index) => {\n            const isChosen = this.options[index].value === option.value;\n            optionEl.classList.toggle(\"lobster-select__option--selected\", isChosen);\n        });\n        this.close();\n        const event = new SelectChangeEvent({\n            value: option.value,\n            label: option.label,\n        });\n        this.node.dispatchEvent(event);\n    }\n    toggle() {\n        this.isOpen ? this.close() : this.open();\n    }\n    open() {\n        this.isOpen = true;\n        this.node.classList.add(\"lobster-select--open\");\n        if (this.searchInput) {\n            this.searchInput.focus();\n        }\n    }\n    close() {\n        this.isOpen = false;\n        this.node.classList.remove(\"lobster-select--open\");\n        if (this.searchInput) {\n            this.searchInput.value = \"\";\n            this.renderOptions();\n        }\n    }\n    handleOutsideClick(event) {\n        if (!this.node.contains(event.target)) {\n            this.close();\n        }\n    }\n    getValue() {\n        var _a;\n        return (_a = this.selectedOption) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    setValue(value) {\n        const option = this.options.find((opt) => opt.value === value);\n        if (option) {\n            this.selectOption(option);\n        }\n    }\n    clear(force = false) {\n        if (!this.config.clearable && !force) {\n            console.warn(\"Clearable is disabled\");\n            return;\n        }\n        this.selectedOption = undefined;\n        const buttonText = this.selectButton.querySelector(\".lobster-select__button-text\");\n        if (buttonText) {\n            buttonText.textContent = this.config.placeholder || \"\";\n        }\n        this.node.classList.remove(\"has-value\");\n        const options = this.dropdown.querySelectorAll(\".lobster-select__option\");\n        options.forEach((option) => {\n            option.classList.remove(\"lobster-select__option--selected\");\n        });\n    }\n    updateOptions(options) {\n        this.options = options;\n        this.renderOptions();\n    }\n    disable() {\n        this.node.classList.add(\"lobster-select--disabled\");\n        this.selectButton.removeEventListener(\"click\", () => this.toggle());\n    }\n    enable() {\n        this.node.classList.remove(\"lobster-select--disabled\");\n        this.selectButton.addEventListener(\"click\", () => this.toggle());\n    }\n    destroy() {\n        this.node.remove();\n        if (this.outsideClickHandler !== null) {\n            document.removeEventListener(\"click\", this.outsideClickHandler);\n        }\n    }\n}\n"],
  "mappings": "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",
  "names": ["SelectChangeEvent", "detail", "Select", "selector", "options", "config", "container", "buttonText", "buttonArrow", "clearButton", "e", "event", "searchWrapper", "optionsList", "option", "optionElement", "existingOptions", "searchTerm", "filteredOptions", "optionEl", "index", "isChosen", "_a", "value", "opt", "force"]
}
