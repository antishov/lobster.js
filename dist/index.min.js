var o=class extends CustomEvent{constructor(e){super("change",{detail:e,bubbles:!0,cancelable:!0})}},l=class{constructor(e,i=[],t={}){this.options=[],this.isOpen=!1;let s=document.querySelector(e);if(!s)throw new Error(`Element with selector "${e}" not found`);this.container=s,this.options=i,this.config=Object.assign({placeholder:"Select option",searchable:!1,clearable:!1},t),this.init()}init(){this.container.classList.add("lobster-select"),this.config.clearable&&this.container.classList.add("lobster-select--clearable"),this.selectButton=document.createElement("div"),this.selectButton.classList.add("lobster-select__button");let e=document.createElement("span");e.classList.add("lobster-select__button-text"),e.textContent=this.config.placeholder;let i=document.createElement("span");if(i.classList.add("lobster-select__button-arrow"),this.config.clearable){let t=document.createElement("span");t.classList.add("lobster-select__clear-button"),t.addEventListener("click",s=>{s.stopPropagation(),this.clear();let n=new o({value:"",label:""});this.container.dispatchEvent(n)}),this.selectButton.appendChild(t)}if(this.selectButton.appendChild(e),this.selectButton.appendChild(i),this.dropdown=document.createElement("div"),this.dropdown.classList.add("lobster-select__dropdown"),this.config.searchable){let t=document.createElement("div");t.classList.add("lobster-select__search"),this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.placeholder="Search...",this.searchInput.classList.add("lobster-select__search-input"),t.appendChild(this.searchInput),this.dropdown.appendChild(t),this.searchInput.addEventListener("input",()=>this.handleSearch())}this.renderOptions(),this.container.appendChild(this.selectButton),this.container.appendChild(this.dropdown),this.selectButton.addEventListener("click",()=>this.toggle()),document.addEventListener("click",t=>this.handleOutsideClick(t))}renderOptions(){let e=document.createElement("div");e.classList.add("lobster-select__options"),this.options.forEach(t=>{let s=document.createElement("div");s.classList.add("lobster-select__option"),t.disabled&&s.classList.add("lobster-select__option--disabled"),s.textContent=t.label,t.disabled||s.addEventListener("click",()=>this.selectOption(t)),e.appendChild(s)});let i=this.dropdown.querySelector(".lobster-select__options");i&&this.dropdown.removeChild(i),this.dropdown.appendChild(e)}handleSearch(){if(!this.searchInput)return;let e=this.searchInput.value.toLowerCase(),i=this.options.filter(s=>s.label.toLowerCase().includes(e)),t=this.dropdown.querySelector(".lobster-select__options");t&&(t.innerHTML="",i.forEach(s=>{let n=document.createElement("div");n.classList.add("lobster-select__option"),s.disabled&&n.classList.add("lobster-select__option--disabled"),n.textContent=s.label,s.disabled||n.addEventListener("click",()=>this.selectOption(s)),t.appendChild(n)}))}selectOption(e){this.selectedOption=e;let i=this.selectButton.querySelector(".lobster-select__button-text");i&&(i.textContent=e.label),this.container.classList.add("has-value"),this.dropdown.querySelectorAll(".lobster-select__option").forEach((n,a)=>{this.options[a].value===e.value?n.classList.add("lobster-select__option--selected"):n.classList.remove("lobster-select__option--selected")}),this.close();let s=new o({value:e.value,label:e.label});this.container.dispatchEvent(s)}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.container.classList.add("lobster-select--open"),this.searchInput&&this.searchInput.focus()}close(){this.isOpen=!1,this.container.classList.remove("lobster-select--open"),this.searchInput&&(this.searchInput.value="",this.renderOptions())}handleOutsideClick(e){this.container.contains(e.target)||this.close()}getValue(){var e;return(e=this.selectedOption)===null||e===void 0?void 0:e.value}setValue(e){let i=this.options.find(t=>t.value===e);i&&this.selectOption(i)}clear(e=!1){if(!this.config.clearable&&!e){console.warn("Clearable is disabled");return}this.selectedOption=void 0;let i=this.selectButton.querySelector(".lobster-select__button-text");i&&(i.textContent=this.config.placeholder||""),this.container.classList.remove("has-value"),this.dropdown.querySelectorAll(".lobster-select__option").forEach(s=>{s.classList.remove("lobster-select__option--selected")})}updateOptions(e){this.options=e,this.renderOptions()}disable(){this.container.classList.add("lobster-select--disabled"),this.selectButton.removeEventListener("click",()=>this.toggle())}enable(){this.container.classList.remove("lobster-select--disabled"),this.selectButton.addEventListener("click",()=>this.toggle())}};export{l as Select};
//# sourceMappingURL=index.min.js.map
